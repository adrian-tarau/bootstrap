<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:component="https://net.microfalx/component">
<body>

<iframe th:fragment="help_frame" id="help_frame" class="h-100 w-100 border-0" th:src="${path}" th:attr="origSrc=${path}">

</iframe>

<div id="help-article" th:class="|modal fade ${dialogClasses} modal-help|" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header pb-0">
                <div class="d-flex w-100">
                    <h3 class="modal-title flex-grow-1">
                        <span th:text="${title}"></span>
                    </h3>
                    <div class="p-2">
                        <a href="#" component:tooltip-text="Navigates back one page within the current window"
                           class="text-secondary icon-link" th:attr="onclick=|Help.back()|">
                            <i class="fa-solid fa-arrow-left help-button"></i>
                        </a>
                        <a href="#" component:tooltip-text="Navigates forward one page within the current window"
                           class="text-secondary icon-link" th:attr="onclick=|Help.forward()|">
                            <i class="fa-solid fa-arrow-right help-button"></i>
                        </a>
                        <a href="#" component:tooltip-text="Navigates to the home page of the current window"
                           class="text-secondary icon-link" th:attr="onclick=|Help.reload()|">
                            <i class="fa-solid fa-house help-button"></i>
                        </a>
                        <span class="mx-2"></span>
                        <a href="#" component:tooltip-text="Closes the current window" data-bs-dismiss="modal"
                           class="text-secondary icon-link help-button">
                            <i class="fa-regular fa-circle-xmark"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="modal-body help">
                <div class="container-fluid h-100" th:if="${root}">
                    <div class="row h-100">
                        <div class="col-lg-3 h-100 toc border-end border-box">
                            <h1>Table of Contents</h1>
                            <div class="h-100 overflow-x-hidden overflow-y-auto" th:utext="${toc}"></div>
                        </div>
                        <div class="col-lg-9 h-100">
                            <div th:replace="~{help/article :: help_frame}"></div>
                        </div>
                    </div>
                </div>
                <div class="h-100" th:unless="${root}">
                    <div th:replace="~{help/article :: help_frame}"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
</body>
</html>